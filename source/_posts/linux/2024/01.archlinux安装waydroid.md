---
title: archlinux安装waydroid
author: falser101
date: 2024-08-14
headerDepth: 3
category:
  - linux
tag:
  - linux
  - waydroid
---

> archlinux安装waydroid

## 安装

```shell
paru -S waydroid
```

## 下载镜像

```shell
paru -S waydroid-image-gapps
```

## 初始化

```shell
sudo waydroid init -s GAPPS -f
```

## 连接

```shell
waydroid session start
waydroid show-full-ui
```

## 安装应用
```shell
sudo waydroid app install xx.apk
```

## QA

### 打开浏览器发现无网络连接
A: 使用iptable.service 删除掉nftables.service,并修改/usr/lib/waydroid/data/scripts/waydroid-net.sh文件中的LXC_USE_NFT="falser"

```shell
sudo systemctl disable nftables.service
sudo systemctl stop nftables.service
sudo systemctl enable iptables.service
sudo systemctl start iptables.service
systemctl restart waydroid-container
```

### 获取安卓设备id
执行下方命令,选择安卓版本,选择获取安卓设备id,并前往[安卓设备认证](https://google.com/android/uncertified/?pli=1),认证完成后重启waydroid再登陆google账号

![安卓设备id](/imgs/linux/2024/01/获取安卓设备id.png)

```shell
git clone https://mirror.ghproxy.com/https://github.com/casualsnek/waydroid_script
cd waydroid_script
python3 -m venv venv
venv/bin/pip install -r requirements.txt
sudo venv/bin/python3 main.py
```


